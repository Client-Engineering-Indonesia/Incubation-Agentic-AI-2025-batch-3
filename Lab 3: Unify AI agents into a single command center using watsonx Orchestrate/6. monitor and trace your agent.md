# How to connect langfuse to watsonx orchestrate SaaS

<img width="1100" height="648" alt="image" src="https://github.com/user-attachments/assets/305362eb-4214-4bae-9f19-c2f4bf924e85" />

This is a guide to show you how to connect langfuse on SaaS to your watsonx orchestrate instance, also running on SaaS.

## Pre-requisties
1. ADK installed : doc [here](https://developer.watson-orchestrate.ibm.com/getting_started/installing)
2. Access to a wxo SaaS instance (e.g. TechZone instance hosted on IBM Cloud)

## Access to Langfuse SaaS
1. Sign up to Langfuse cloud for free from [here](https://cloud.langfuse.com/auth/sign-up).
  **Noted:** EU (https://cloud.langfuse.com), US (https://us.cloud.langfuse.com). This scenario will use the US environment.

3. Once you have signed up, create `new organisation` and then `new project`.
<img width="1100" height="648" alt="image" src="https://github.com/user-attachments/assets/4b07dc3b-9e35-46f5-a8e3-98a432419ad4" />

4. Go to your project and navigate to `Settings` from the left side bar.

5. Create a new API Key from `API Keys` and save `public key` and `secret key` for later.
<img width="1100" height="648" alt="image" src="https://github.com/user-attachments/assets/d0606f8c-8446-4667-8465-65fe5ebeaf82" />


## Connect Langfuse SaaS to wxo SaaS
1. From the ADK, create an environment to your SaaS instance.
```text
orchestrate env add -n <environment-name> -u https://my-service-instance-url
```

2. Activate the instance with your IAM API Key.
```text
orchestrate env activate <environment-name>
```

3. Create the config file in YAML (let's call it langfuse.yaml for now). Use the secret key and public key you got from Langfuse earlier.
Example langfuse.yaml in US environment:
```json
spec_version: v1
kind: langfuse
project_id: xxx
api_key: sk-xxx
url: https://us.cloud.langfuse.com/api/public/otel
health-uri: https://us.cloud.langfuse.com
config_json:
  public_key: pk-xxx
mask_pii: false
```

4. Apply the config yaml with
```text
orchestrate settings observability langfuse configure  --config-file <path-to-your-langfuse.yaml>
```

5. Done! Log back onto Langfuse and have fun with the dashboard.
